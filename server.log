
> ai-agent-team@1.0.0 dev
> concurrently "npm run dev:server" "npm run dev:client"

[1] 
[1] > ai-agent-team@1.0.0 dev:client
[1] > vite
[1] 
[0] 
[0] > ai-agent-team@1.0.0 dev:server
[0] > NODE_OPTIONS='--import tsx --experimental-specifier-resolution=node' node src/api/server.ts
[0] 
[1] Port 5173 is in use, trying another one...
[1] Port 5174 is in use, trying another one...
[1] 
[1]   VITE v5.4.19  ready in 361 ms
[1] 
[1]   ‚ûú  Local:   http://localhost:5175/
[1]   ‚ûú  Network: http://10.255.255.254:5175/
[1]   ‚ûú  Network: http://172.28.107.253:5175/
[1]   ‚ûú  Network: http://172.19.0.1:5175/
[1]   ‚ûú  Network: http://172.17.0.1:5175/
[0] [32m2025-07-22T14:57:55.258Z INFO  [ROUTER_SETUP] Creating feature router: chat[0m
[0] [32m2025-07-22T14:57:55.260Z INFO  [ROUTER_SETUP] Creating feature router: dataCollection[0m
[0] [32m2025-07-22T14:57:55.274Z INFO  [EMAIL_STORAGE] EmailStorageService initialized with single connection[0m
[0] [32m2025-07-22T14:57:55.274Z INFO  [EMAIL_STORAGE] Initializing email storage database[0m
[0] [32m2025-07-22T14:57:55.275Z INFO  [EMAIL_STORAGE] WAL mode enabled with performance optimizations[0m
[0] [32m2025-07-22T14:57:55.277Z INFO  [EMAIL_STORAGE] Workflow patterns seeded successfully[0m
[0] [32m2025-07-22T14:57:55.277Z INFO  [EMAIL_STORAGE] Email storage database initialized successfully[0m
[0] [32m2025-07-22T14:57:55.277Z INFO  [QUERY_MONITOR] Query performance monitoring started[0m
[0] [32m2025-07-22T14:57:55.277Z INFO  [QUERY_MONITOR] Query monitor registered {"monitorId":"monitor_1753196275277_zzns2whos","pattern":"email_table_view"}[0m
[0] [32m2025-07-22T14:57:55.277Z INFO  [QUERY_MONITOR] Query monitor registered {"monitorId":"monitor_1753196275277_1cmv89bu8","pattern":"workflow_analytics"}[0m
[0] [32m2025-07-22T14:57:55.278Z INFO  [EMAIL_STORAGE] Performance monitoring initialized for EmailStorageService[0m
[0] [32m2025-07-22T14:57:55.278Z INFO  [EMAIL_STORAGE] SLA monitoring started[0m
[0] [32m2025-07-22T14:57:55.314Z INFO  [EMAIL_STORAGE] EmailStorageService initialized with single connection[0m
[0] [32m2025-07-22T14:57:55.314Z INFO  [EMAIL_STORAGE] Initializing email storage database[0m
[0] [32m2025-07-22T14:57:55.315Z INFO  [EMAIL_STORAGE] WAL mode enabled with performance optimizations[0m
[0] [32m2025-07-22T14:57:55.320Z INFO  [EMAIL_STORAGE] Workflow patterns seeded successfully[0m
[0] [32m2025-07-22T14:57:55.321Z INFO  [EMAIL_STORAGE] Email storage database initialized successfully[0m
[0] [32m2025-07-22T14:57:55.321Z INFO  [QUERY_MONITOR] Query monitor registered {"monitorId":"monitor_1753196275321_afduggw1t","pattern":"email_table_view"}[0m
[0] [32m2025-07-22T14:57:55.321Z INFO  [QUERY_MONITOR] Query monitor registered {"monitorId":"monitor_1753196275321_txkkfnm1g","pattern":"workflow_analytics"}[0m
[0] [32m2025-07-22T14:57:55.321Z INFO  [EMAIL_STORAGE] Performance monitoring initialized for EmailStorageService[0m
[0] [32m2025-07-22T14:57:55.323Z INFO  [AGENT] Initializing agent: EmailAnalysisAgent[0m
[0] [32m2025-07-22T14:57:55.411Z INFO  [EMAIL_STORAGE] EmailStorageService initialized with single connection[0m
[0] [32m2025-07-22T14:57:55.412Z INFO  [EMAIL_STORAGE] Initializing email storage database[0m
[0] [32m2025-07-22T14:57:55.412Z INFO  [EMAIL_STORAGE] WAL mode enabled with performance optimizations[0m
[0] [32m2025-07-22T14:57:55.419Z INFO  [EMAIL_STORAGE] Workflow patterns seeded successfully[0m
[0] [32m2025-07-22T14:57:55.419Z INFO  [EMAIL_STORAGE] Email storage database initialized successfully[0m
[0] [32m2025-07-22T14:57:55.419Z INFO  [QUERY_MONITOR] Query monitor registered {"monitorId":"monitor_1753196275419_x77jrf75j","pattern":"email_table_view"}[0m
[0] [32m2025-07-22T14:57:55.419Z INFO  [QUERY_MONITOR] Query monitor registered {"monitorId":"monitor_1753196275419_9u8eagn2b","pattern":"workflow_analytics"}[0m
[0] [32m2025-07-22T14:57:55.419Z INFO  [EMAIL_STORAGE] Performance monitoring initialized for EmailStorageService[0m
[0] üîå WebSocket server running on ws://localhost:3002/trpc-ws
[0] üöÄ API Server running on http://localhost:3001
[0] üì° tRPC endpoint: http://localhost:3001/trpc
[0] üè• Health check: http://localhost:3001/health
[0] [32m2025-07-22T14:57:55.429Z INFO  [WEBSOCKET] WebSocket health monitoring started[0m
[0] [33m2025-07-22T14:57:55.437Z WARN  [IEMS_DATA] Could not load mailboxes file {"file":"/home/pricepro2006/iems_project/mailboxes.json"}[0m
[0] [32m2025-07-22T14:57:55.439Z INFO  [IEMS_DATA] Loaded distribution lists {"count":13}[0m
[0] [32m2025-07-22T14:57:55.439Z INFO  [AGENT] Initializing agent EmailAnalysisAgent[0m
[0] [32m2025-07-22T14:57:55.439Z INFO  [AGENT] Agent EmailAnalysisAgent initialized successfully with 0 tools[0m
[0] [32m2025-07-22T14:58:25.880Z INFO  [ORCHESTRATOR] Initializing MasterOrchestrator {"config":{"ollamaUrl":"http://localhost:11434","rag":{"vectorStore":{"type":"chromadb","path":"./data/chroma","collectionName":"crewai-knowledge","dimension":384},"chunking":{"size":500,"overlap":50,"method":"sentence"},"retrieval":{"topK":5,"minScore":0.5,"reranking":true}}}}[0m
[0] ChromaDB file path configuration is deprecated. Falling back to HTTP.
[0] [32m2025-07-22T14:58:25.882Z INFO  [REVIEWER] PlanReviewer initialized[0m
[0] [32m2025-07-22T14:58:25.882Z INFO  [ROUTER] AgentRouter initialized[0m
[0] [32m2025-07-22T14:58:25.882Z INFO  [ORCHESTRATOR] MasterOrchestrator initialized successfully[0m
[0] [32m2025-07-22T14:58:25.912Z INFO  [ORCHESTRATOR] RAG system initialized successfully[0m
[0] [32m2025-07-22T14:58:25.912Z INFO  [AGENT] Initializing agent: ResearchAgent[0m
[0] [32m2025-07-22T14:58:25.912Z INFO  [AGENT] Initializing agent ResearchAgent[0m
[0] [32m2025-07-22T14:58:25.913Z INFO  [AGENT] Agent ResearchAgent initialized successfully with 2 tools[0m
[0] [32m2025-07-22T14:58:25.913Z INFO  [AGENT] Initializing agent: CodeAgent[0m
[0] [32m2025-07-22T14:58:25.913Z INFO  [AGENT] Initializing agent CodeAgent[0m
[0] [32m2025-07-22T14:58:25.913Z INFO  [AGENT] Agent CodeAgent initialized successfully with 0 tools[0m
[0] [32m2025-07-22T14:58:25.913Z INFO  [ORCHESTRATOR] MasterOrchestrator initialization completed[0m
[0] [32m2025-07-22T14:58:25.916Z INFO  [CHAT] Creating new chat conversation {"userId":"guest-::1-1753196305914","messageLength":121,"priority":"high","requestId":"ts1mk"}[0m
[0] [32m2025-07-22T14:58:25.917Z INFO  [ORCHESTRATOR] Processing query {"query":"Find irrigation specialists in Spartanburg, SC to fix a cracked sprinkler head caused by root intrus","conversationId":"952d29e8-43e8-48fe-9e15-fa0705576ca4"}[0m
[0] [32m2025-07-22T14:58:25.918Z INFO  [PARSER] Query analysis completed {"intent":"research","complexity":2,"domains":2,"priority":"medium","estimatedDuration":90}[0m
[0] [32m2025-07-22T14:58:25.918Z INFO  [ORCHESTRATOR] Query analysis completed {"intent":"research","complexity":2,"domains":["research","development"],"priority":"medium","estimatedDuration":90}[0m
[0] [32m2025-07-22T14:58:25.919Z INFO  [ORCHESTRATOR] Agent routing plan created {"strategy":"sequential","confidence":0.8,"fallbackAgents":1}[0m
[0] [32m2025-07-22T14:58:25.919Z INFO  [ORCHESTRATOR] Starting plan creation[0m
[0] [32m2025-07-22T14:58:25.919Z INFO  [ORCHESTRATOR] Using simple plan generator for CPU performance[0m
[0] [32m2025-07-22T14:58:25.919Z INFO  [ORCHESTRATOR] Plan created successfully {"steps":1}[0m
[0] [ResearchAgent] Starting executeWithTool for web_search
[0] [ResearchAgent] Query extracted: Find irrigation specialists in Spartanburg, SC to fix a cracked sprinkler head caused by root intrusion at 278 Wycliff Dr
[0] [ResearchAgent] Executing web search...
[0] [ResearchAgent] Search completed: true
[0] [ResearchAgent] Found 5 results, synthesizing...
[0] [ResearchAgent] Synthesis complete
[0] [32m2025-07-22T15:00:00.506Z INFO  [ORCHESTRATOR] Query processing completed {"success":true,"attempts":1,"totalSteps":1}[0m
[0] [33m2025-07-22T15:00:00.507Z WARN  [MasterOrchestrator] Slow operation detected: processQuery took 94590ms {"success":true}[0m
[0] [32m2025-07-22T15:00:00.510Z INFO  [CHAT] Chat conversation created successfully {"conversationId":"952d29e8-43e8-48fe-9e15-fa0705576ca4","userId":"guest-::1-1753196305914","responseLength":3146}[0m
[0] tRPC Error: {
[0]   type: 'mutation',
[0]   path: 'conversation.getMessages',
[0]   error: 'No "mutation"-procedure on path "conversation.getMessages"',
[0]   input: { conversationId: '952d29e8-43e8-48fe-9e15-fa0705576ca4', limit: 10 }
[0] }
