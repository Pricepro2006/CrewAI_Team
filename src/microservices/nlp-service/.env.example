# NLP Microservice Environment Configuration
# Copy this file to .env and adjust values as needed

# ===== SERVER CONFIGURATION =====
PORT=3001
GRPC_PORT=50051
HOST=0.0.0.0
NODE_ENV=production

# ===== OLLAMA CONFIGURATION =====
# CRITICAL: Must be 2 for Walmart Grocery Agent compatibility
OLLAMA_NUM_PARALLEL=2
OLLAMA_HOST=http://localhost:11434

# ===== QUEUE CONFIGURATION =====
NLP_DEFAULT_TIMEOUT=30000
NLP_MAX_RETRIES=2
NLP_PERSISTENCE_ENABLED=true
NLP_QUEUE_PERSISTENCE_PATH=./data/nlp-queue

# ===== MONITORING CONFIGURATION =====
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
METRICS_ENABLED=true

# Alert Thresholds
ALERT_QUEUE_SIZE=50
ALERT_ERROR_RATE=0.1
ALERT_PROCESSING_TIME=5000
ALERT_MEMORY_USAGE=80

# ===== SERVICE DISCOVERY CONFIGURATION =====
SERVICE_DISCOVERY_ENABLED=false
SERVICE_NAME=nlp-service
SERVICE_VERSION=1.0.0
SERVICE_REGISTRY_URL=http://consul:8500
HEARTBEAT_INTERVAL=10000

# ===== SECURITY CONFIGURATION =====
# Rate Limiting
RATE_LIMITING_ENABLED=true
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW=1 minute

# API Keys
API_KEYS_ENABLED=false
API_KEYS_REQUIRED=false
ADMIN_API_KEY=your-secure-admin-key-here

# CORS
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,https://app.example.com

# ===== LOGGING CONFIGURATION =====
LOG_LEVEL=info
LOG_FORMAT=json

# ===== GRACEFUL SHUTDOWN CONFIGURATION =====
GRACEFUL_SHUTDOWN_TIMEOUT=10000
SHUTDOWN_SIGNALS=SIGINT,SIGTERM

# ===== REDIS CONFIGURATION (OPTIONAL) =====
REDIS_URL=redis://localhost:6379
REDIS_ENABLED=false

# ===== DEVELOPMENT/DEBUGGING =====
# Enable debug mode
# LOG_LEVEL=debug
# MONITORING_ENABLED=false

# ===== PRODUCTION OVERRIDES =====
# For production environments, consider:
# API_KEYS_ENABLED=true
# API_KEYS_REQUIRED=true
# SERVICE_DISCOVERY_ENABLED=true
# CORS_ORIGINS=https://your-production-domain.com
# LOG_LEVEL=warn